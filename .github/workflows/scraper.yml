# This is the name of your automated program
name: Daily Job Scraper

# This controls WHEN the program runs
on:
  # This makes it run at 02:00 UTC every day
  # You can change the time. '0 2 * * *' = 2 AM UTC
  schedule:
    - cron: '0 2 * * *'
  
  # This line adds a button so you can run it manually
  workflow_dispatch:

# This defines the steps the program takes
jobs:
  scrape:
    # The program will run on a standard Ubuntu Linux machine
    runs-on: ubuntu-latest

    steps:
      # Step 1: Checks out your code from the repo
      - name: Check out repository
        uses: actions/checkout@v4

      # Step 2: Sets up the Python language
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      # Step 3: Installs the Chrome browser (needed for Selenium)
      - name: Install Google Chrome
        uses: browser-actions/setup-chrome@latest

      # Step 4: Installs all libraries from your requirements.txt
      - name: Install Python dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      # Step 5: Runs your new scraper script!
      - name: Run Python scraper
        run: python run_scraper.py
